{"version":3,"sources":["components/Modal/modal.module.css","components/InputArea/inputArea.module.css","components/Gallery/GalleryItem/galleryItem.module.css","components/Gallery/gallery.module.css","components/InputArea/inputArea.js","components/Gallery/GalleryItem/galleryItem.js","components/Gallery/gallery.js","components/Modal/modal.js","components/ErrorNotification/errorNotification.js","services/pixabay-api.js","components/app.js","index.js","components/mainApp.module.css"],"names":["module","exports","overlay","modal","searchForm","galleryItem","stats","statsItem","fullscreenButton","gallery","InputArea","state","value","onHandleChange","e","_this","setState","target","onHandleSubmit","preventDefault","props","onSubmit","this","react_default","a","createElement","className","style","type","autoComplete","onChange","placeholder","name","Component","GalleryItem","_ref","webformatURL","likes","views","comments","downloads","openModal","src","alt","onClick","Gallery","fotoArr","map","foto","Object","assign","key","id","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","url","role","tabIndex","onKeyPress","styles","ref","ErrorNotification","error","fetchFotos","askString","pageNumber","axios","get","concat","App","isOpen","selectedFotoId","isLoading","componentDidUpdate","prevProps","prevState","scrollTo","top","document","body","scrollHeight","behavior","closeModal","findImgUrl","find","largeImageURL","loadNewFotos","services","then","data","hits","catch","finally","_this$state","mainApp","inputArea_InputArea","spinner","dist_default","length","loadMore","errorNotification","text","message","modal_Modal","ReactDOM","render","app_App","getElementById"],"mappings":"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","file":"static/js/main.fc699baa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3HnZV\",\"modal\":\"modal_modal__1q9t1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"inputArea_searchForm__1uBjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"galleryItem_galleryItem__qXArk\",\"stats\":\"galleryItem_stats__ucAVi\",\"statsItem\":\"galleryItem_statsItem__1jy41\",\"fullscreenButton\":\"galleryItem_fullscreenButton__2LL9E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"gallery_gallery__12K1l\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './inputArea.module.css';\n\nexport default class InputArea extends Component {\n  state = {\n    value: '',\n  };\n\n  onHandleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  onHandleSubmit = e => {\n    e.preventDefault();\n    if (this.state.value !== '') this.props.onSubmit(this.state.value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form className={style.searchForm} onSubmit={this.onHandleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={value}\n          onChange={this.onHandleChange}\n          placeholder=\"Search images...\"\n          name=\"searchString\"\n        />\n      </form>\n    );\n  }\n}\n\nInputArea.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './galleryItem.module.css';\n\nconst GalleryItem = ({\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  openModal,\n}) => (\n  <li className={style.galleryItem}>\n    <img src={webformatURL} alt=\"\" />\n\n    <div className={style.stats}>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button\n      onClick={openModal}\n      type=\"button\"\n      className={style.fullscreenButton}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </li>\n);\n\nGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from './GalleryItem/galleryItem';\nimport style from './gallery.module.css';\n\nconst Gallery = ({ fotoArr, openModal }) => (\n  <ul className={style.gallery}>\n    {fotoArr.map(foto => (\n      <GalleryItem\n        key={foto.id}\n        {...foto}\n        openModal={() => openModal(foto.id)}\n      />\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  fotoArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { url } = this.props;\n    return (\n      <div\n        role=\"button\"\n        tabIndex=\"-1\"\n        onKeyPress={this.handleKeyPress}\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>\n          <img src={url} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  url: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ error }) => <h2>{error}</h2>;\n\nErrorNotification.propTypes = {\n  error: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?key=11172718-f6e56b8a08a6b762793b5fef6&q=';\n\n/* eslint-disable-next-line */\nexport const fetchFotos = (askString, pageNumber) =>  axios.get(\n    `${BASE_URL +\n      askString}&page=${pageNumber}&per_page=12&image_type=photo&orientation=horizontal`,\n  );\n","import React, { Component } from 'react';\nimport Spinner from 'react-spinkit';\nimport InputArea from './InputArea/inputArea';\nimport Gallery from './Gallery/gallery';\nimport Modal from './Modal/modal';\nimport ErrorNotification from './ErrorNotification/errorNotification';\nimport * as services from '../services/pixabay-api';\nimport style from './mainApp.module.css';\n\nexport default class App extends Component {\n  state = {\n    isOpen: false,\n    fotoArr: [],\n    pageNumber: 1,\n    selectedFotoId: null,\n    askString: '',\n    error: null,\n    isLoading: false,\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (prevState.fotoArr !== this.state.fotoArr) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  openModal = id => {\n    this.setState({\n      isOpen: true,\n      selectedFotoId: id,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      isOpen: false,\n      selectedFotoId: null,\n    });\n  };\n\n  findImgUrl = selectedFotoId =>\n    this.state.fotoArr.find(foto => foto.id === selectedFotoId).largeImageURL;\n\n  onSubmit = name => {\n    this.setState({ askString: name, pageNumber: 1, fotoArr: [] }, () => {\n      this.loadNewFotos();\n    });\n  };\n\n  loadNewFotos = () => {\n    this.setState({ isLoading: true });\n    services\n      .fetchFotos(this.state.askString, this.state.pageNumber)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          fotoArr: prevState.fotoArr.concat(data.hits),\n        })),\n      )\n      .then(\n        this.setState(prevState => ({\n          pageNumber: prevState.pageNumber + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { isOpen, fotoArr, selectedFotoId, isLoading, error } = this.state;\n    return (\n      <div className={style.mainApp}>\n        <InputArea onSubmit={this.onSubmit} />\n        {isLoading && (\n          <div className={style.spinner}>\n            <Spinner name=\"circle\" />\n          </div>\n        )}\n        {fotoArr.length > 0 && (\n          <Gallery fotoArr={fotoArr} openModal={this.openModal} />\n        )}\n        {fotoArr.length > 0 && (\n          <button\n            className={style.loadMore}\n            type=\"button\"\n            onClick={this.loadNewFotos}\n          >\n            Load more\n          </button>\n        )}\n        {error && <ErrorNotification text={error.message} />}\n        {isOpen && (\n          <Modal\n            onClose={this.closeModal}\n            url={this.findImgUrl(selectedFotoId)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainApp\":\"mainApp_mainApp__2q9Iv\",\"spinner\":\"mainApp_spinner__157RL\",\"loadMore\":\"mainApp_loadMore__35h7E\"};"],"sourceRoot":""}